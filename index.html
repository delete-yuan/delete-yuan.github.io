<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>æ™ºæ…§æ–‡æ—… Â· æ™¯åŒºæ¸¸å®¢å¼•å¯¼ç³»ç»Ÿ</title>

  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #f5f5f5;
    }
    header {
      background: #2c3e50;
      color: #fff;
      padding: 20px;
      text-align: center;
      font-size: 24px;
      letter-spacing: 1px;
    }
    nav {
      display: flex;
      justify-content: center;
      gap: 20px;
      background: #34495e;
      padding: 10px;
    }
    nav a {
      color: #fff;
      text-decoration: none;
      font-size: 16px;
    }
    nav a:hover {
      text-decoration: underline;
    }
    .container {
      padding: 20px;
      max-width: 1200px;
      margin: auto;
    }
    .section-title {
      font-size: 22px;
      margin: 20px 0 10px;
      padding-left: 8px;
      border-left: 4px solid #3498db;
    }
    /* --- æ™ºèƒ½åœ°å›¾åŒºåŸŸæ ·å¼ --- */
    #map {
      width: 100%;
      height: 500px;
      background: #ddd;
      border-radius: 10px;
      overflow: hidden;
      position: relative;
    }

    /* æ™¯ç‚¹å¡ç‰‡å¸ƒå±€ */
    .spot-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
      gap: 20px;
    }
    .spot-card {
      background: #fff;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    .spot-card img {
      width: 100%;
      border-radius: 8px;
      height: 150px;
      object-fit: cover;
    }
    .spot-name {
      font-size: 18px;
      margin-top: 10px;
      font-weight: bold;
    }
    .spot-desc {
      font-size: 14px;
      color: #666;
      margin-top: 6px;
    }
    .dropdown {
      position: relative;
    }
    .dropdown-content {
      display: none;
      position: absolute;
      background: #2c3e50;
      padding: 10px;
      border-radius: 8px;
      min-width: 150px;
      z-index: 1000;
    }
    .dropdown-content a {
      display: block;
      padding: 5px 10px;
      color: #fff;
    }
    .dropdown-content a:hover {
      background: #3f5870;
    }
    .dropdown-btn {
      cursor: pointer;
    }
    
    /* è‡ªå®šä¹‰å®šä½æŒ‰é’®æ ·å¼ */
    .custom-location-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      z-index: 1000;
      background: white;
      border: none;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      font-size: 20px;
      cursor: pointer;
      box-shadow: 0 2px 6px rgba(0,0,0,0.3);
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .custom-location-btn:hover {
      background: #f0f0f0;
    }
    
    /* ä½ç½®çŠ¶æ€æŒ‡ç¤ºå™¨ */
    .location-status {
      position: absolute;
      top: 10px;
      left: 10px;
      z-index: 1000;
      background: rgba(255, 255, 255, 0.9);
      padding: 5px 10px;
      border-radius: 4px;
      font-size: 12px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.2);
    }
  </style>

  <!-- ç™¾åº¦åœ°å›¾API -->
  <script type="text/javascript" src="https://api.map.baidu.com/api?v=3.0&ak=xugGrl3zF7kYGvgoY3Cs90lkhCvKb8I4"></script>
</head>
<body>

<header>æ™ºæ…§æ–‡æ—… Â· è€é¾™å¤´æ™¯åŒºæ¸¸å®¢å¼•å¯¼ç³»ç»Ÿ</header>

<nav>
  <div class="dropdown">
    <a href="#intro" class="dropdown-btn">æ™¯åŒºä»‹ç» â–¾</a>
    <div class="dropdown-content">
      <a href="#intro-intro">æ™¯åŒºæ¦‚å†µ</a>
      <a href="#intro-history">å†å²æ²¿é©</a>
      <a href="#intro-service">ç‰¹è‰²äº®ç‚¹</a>
      <a href="#intro-price">å¼€æ”¾æ—¶é—´ä¸ç¥¨ä»·</a>
      <a href="#intro-basic">åŸºç¡€è®¾æ–½ä¸æœåŠ¡</a>
      <a href="#intro-tips">æ—…æ¸¸è´´å£«</a>
    </div>
  </div>
  <a href="#map-section">æ™ºèƒ½åœ°å›¾</a>
  <a href="#spots">æ™¯ç‚¹ä»‹ç»</a>
</nav>

<div class="container">

  <!-- ================= æ™¯åŒºä»‹ç» ================= -->
  <section id="intro">
    <h2 class="section-title">æ™¯åŒºä»‹ç»</h2>
    <pre>

<section id="intro-intro">
  <h2 class="dropdown-btn">æ™¯åŒºæ¦‚å†µ</h2>

å±±æµ·å…³è€é¾™å¤´ä½äºç§¦çš‡å²›å¸‚å±±æµ·å…³åŒºå—ä¾§æ¸¤æµ·ä¹‹æ»¨ï¼Œè·ç¦»å±±æµ·å…³åŸçº¦4å…¬é‡Œï¼Œæ˜¯æ˜é•¿åŸå”¯ä¸€çš„å…¥æµ·å¤„ï¼Œç´ æœ‰"æµ·ä¸Šé•¿åŸ"ä¹‹èª‰ã€‚ä½œä¸ºæ˜ä»£é‡è¦çš„æµ·é™†å†›äº‹è¦å¡ï¼Œæ™¯åŒºé›†å…³ã€å±±ã€æµ·æ™¯è§‚äºä¸€ä½“ï¼ŒåŒ…æ‹¬å…¥æµ·çŸ³åŸã€æµ·ç¥åº™ã€æ¾„æµ·æ¥¼ã€å®æµ·åŸã€é–å¤å°ã€å—æµ·å£åŠæ»¨æµ·é•¿åŸç­‰ä¸ƒå¤§éƒ¨åˆ†ã€‚è¿™é‡Œä¸ä»…æ˜¯ä¸‡é‡Œé•¿åŸçš„ä¸œéƒ¨èµ·ç‚¹ï¼Œè¿˜æ‹¥æœ‰é•¿åŸå†å²ä¸Šç¬¬ä¸€åº§è§‚æµ·æ¥¼é˜â€”â€”æ¾„æµ·æ¥¼ï¼Œæ™¯è§‚å£®ä¸½ï¼Œæ–‡åŒ–åº•è•´æ·±åšã€‚è€é¾™å¤´ä»¥å…¶ç‹¬ç‰¹çš„é•¿åŸå…¥æµ·å¥‡è§‚ã€æ·±åšçš„å†å²ç§¯æ·€ä¸å®Œæ•´çš„æµ·é˜²ä½“ç³»ï¼Œè¢«è¯„ä¸ºå›½å®¶AAAAçº§æ—…æ¸¸æ™¯åŒºã€‚


<section id="intro-history">
  <h2 class="dropdown-btn">å†å²æ²¿é©</h2>

Â· æ˜ä»£åˆæœŸï¼ˆ1381å¹´ï¼‰ï¼šå¤§å°†å†›å¾è¾¾åœ¨æ­¤ä¿®ç­‘é•¿åŸï¼Œè®¾ç«‹æµ·é˜²è¦å¡ï¼Œè€é¾™å¤´æˆä¸ºå±±æµ·å«ï¼ˆå±±æµ·å…³ï¼‰çš„å»¶ä¼¸éƒ¨åˆ†ã€‚
Â· æ˜ä»£ä¸­åæœŸï¼šæˆšç»§å…‰ã€å­™æ‰¿å®—ç­‰åå°†å¤šæ¬¡åŠ å›ºä¿®ç¼®ï¼Œå¢å»ºå…¥æµ·çŸ³åŸã€æ¾„æµ·æ¥¼ç­‰ï¼Œå½¢æˆå®Œæ•´çš„æµ·é˜²ä½“ç³»ã€‚
Â· æ¸…ä»£è‡³è¿‘ä»£ï¼šè€é¾™å¤´æ—¢æ˜¯å†›äº‹è¦åœ°ï¼Œä¹Ÿæˆä¸ºå¸ç‹å°†ç›¸ç™»ä¸´è§‚æµ·çš„èƒœåœ°ï¼Œåº·ç†™ã€ä¹¾éš†ç­‰çš‡å¸æ›¾åˆ°æ­¤å·¡æ¸¸ã€‚1900å¹´å…«å›½è”å†›ä¾µåæ—¶ï¼Œè€é¾™å¤´é­ç‚®ç«ä¸¥é‡æŸæ¯ã€‚
Â· ç°ä»£ä¿®å¤ï¼š1984å¹´èµ·ï¼Œå›½å®¶å¯¹å…¶è¿›è¡Œäº†å¤§è§„æ¨¡ä¿®å¤ï¼Œé‡å»ºäº†æ¾„æµ·æ¥¼ã€å…¥æµ·çŸ³åŸç­‰å»ºç­‘ï¼ŒåŸºæœ¬æ¢å¤äº†æ˜æ¸…é£è²Œã€‚


<section id="intro-service">
  <h2 class="dropdown-btn">ç‰¹è‰²äº®ç‚¹</h2>

1. é•¿åŸå…¥æµ·å¥‡è§‚
      è€é¾™å¤´ä¼¸å…¥æ¸¤æµ·çš„çŸ³åŸçŠ¹å¦‚å·¨é¾™é¥®æ°´ï¼Œæµ·æµªæ‹æ‰“åŸå¢™çš„æ™¯è±¡éœ‡æ’¼å£®è§‚ï¼Œæ˜¯é•¿åŸæ–‡åŒ–ä¸æµ·æ´‹æ™¯è§‚çš„å®Œç¾ç»“åˆã€‚
2. æ¾„æµ·æ¥¼
      è¢«ç§°ä¸º"é•¿åŸç¬¬ä¸€æ¥¼"ï¼Œå†å²ä¸Šå¤šæ¬¡é‡å»ºã€‚ç™»æ¥¼å¯ä¿¯ç°æ¸¤æµ·ï¼Œè¿œçœºå±±æµ·å…³å…¨æ™¯ï¼Œæ¥¼å†…ç•™æœ‰å†ä»£æ–‡äººæ­¦å°†çš„è¯—æ–‡åŒ¾é¢ã€‚
3. æµ·ç¥åº™ä¸å¤©åå®«
      èåˆäº†å¤ä»£èˆªæµ·ä¿¡ä»°ä¸æ°‘ä¿—æ–‡åŒ–ï¼Œå±•ç°äº†ä¸­å›½æ²¿æµ·åœ°åŒºç¥­ç¥€æµ·ç¥çš„ä¼ ç»Ÿã€‚
4. å†›äº‹é˜²å¾¡ä½“ç³»é—å€
      åŒ…æ‹¬æ˜ä»£å†›è¥ï¼ˆé¾™æ­¦è¥ï¼‰ã€åŸå¢™æ•Œå°ã€é“ç‚®ç­‰å®ç‰©ï¼Œç”ŸåŠ¨å†ç°å¤ä»£æµ·é˜²å¸ƒå±€ã€‚
5. çˆ±å›½ä¸»ä¹‰æ•™è‚²å±•é¦†
      é€šè¿‡å²æ–™å±•ç¤ºè¿‘ä»£æŠ—å‡»å¤–æ•Œçš„å†å²ï¼Œå¦‚å…«å›½è”å†›å…¥ä¾µç­‰äº‹ä»¶ã€‚


<section id="intro-price">
  <h2 class="dropdown-btn">å¼€æ”¾æ—¶é—´ä¸ç¥¨ä»·</h2>

Â· æ—ºå­£ï¼ˆ5æœˆ-10æœˆï¼‰ï¼š7:30-18:00
Â· æ·¡å­£ï¼ˆ11æœˆ-æ¬¡å¹´4æœˆï¼‰ï¼š8:00-17:30
Â· é—¨ç¥¨å‚è€ƒï¼šçº¦50å…ƒï¼ˆæ—ºå­£å¯èƒ½è°ƒæ•´ï¼Œå»ºè®®æŸ¥è¯¢å®˜ç½‘æˆ–æ—…æ¸¸å¹³å°æœ€æ–°ä¿¡æ¯ï¼‰ã€‚


<section id="intro-basic">
  <h2 class="dropdown-btn">åŸºç¡€è®¾æ–½ä¸æœåŠ¡</h2>

1. äº¤é€šä¾¿åˆ©
   Â· ç§¦çš‡å²›ç«è½¦ç«™ä¹˜å…¬äº¤25è·¯ã€35è·¯å¯ç›´è¾¾ã€‚
   Â· æ™¯åŒºå‘¨è¾¹è®¾æœ‰åœè½¦åœºï¼Œé€‚åˆè‡ªé©¾æ¸¸ã€‚
2. å¯¼è§ˆæœåŠ¡
   Â· æä¾›è¯­éŸ³å¯¼è§ˆã€è®²è§£å‘˜æœåŠ¡åŠæ¸…æ™°çš„æŒ‡ç¤ºç‰Œã€‚
3. ä¾¿æ°‘è®¾æ–½
   Â· æ¸¸å®¢ä¸­å¿ƒã€çºªå¿µå“å•†åº—ã€é¤é¥®åŒºï¼ˆå¯å“å°å½“åœ°æµ·é²œã€é¥½æ¤¤é¥¼ç­‰å°åƒï¼‰ã€‚
   Â· æ— éšœç¢é€šé“è¦†ç›–ä¸»è¦åŒºåŸŸï¼Œé€‚åˆè€å¹´åŠæ®‹éšœæ¸¸å®¢ã€‚
4. å‘¨è¾¹è”åŠ¨
   Â· å¯ä¸å±±æµ·å…³å¤åŸã€å¤©ä¸‹ç¬¬ä¸€å…³ã€å­Ÿå§œå¥³åº™ç­‰æ™¯ç‚¹ä¸²è”æ¸¸è§ˆã€‚


<section id="intro-tips">
  <h2 class="dropdown-btn">æ—…æ¸¸è´´å£«</h2>

Â· æœ€ä½³æ¸¸è§ˆå­£èŠ‚ä¸ºæ˜¥å¤å­£ï¼Œå¯åŒæ—¶äº«å—æµ·æ»¨é£å…‰ã€‚
Â· å»ºè®®é¢„ç•™2-3å°æ—¶æ¸¸è§ˆï¼Œç™»æ¾„æµ·æ¥¼è§‚æ—¥å‡ºæˆ–æ—¥è½å°¤ä¸ºæ¨èã€‚
Â· æ™¯åŒºå†…æµ·é£è¾ƒå¤§ï¼Œéœ€æ³¨æ„é˜²é£ä¿æš–ã€‚
    </pre>
  </section>

  <!-- ================= æ™ºèƒ½åœ°å›¾ ================= -->
  <section id="map-section">
    <h2 class="section-title">æ™ºèƒ½åœ°å›¾ï¼ˆå®æ—¶å®šä½ï¼‰</h2>
    <div id="map"></div>
  </section>

  <!-- ================= æ™¯ç‚¹ä»‹ç» ================= -->
  <section id="spots">
    <h2 class="section-title">æ™¯ç‚¹ä»‹ç»</h2>
    <div class="spot-grid">

      <div class="spot-card">
        <img src="https://raw.githubusercontent.com/delete-yuan/delete-yuan.github.io/main/867896311030ecf61ffbfad2ea385cd5.jpg" alt="æ¾„æµ·æ¥¼" />
        <div class="spot-name">æ¾„æµ·æ¥¼</div>
        <div class="spot-desc">æ¾„æµ·æ¥¼ï¼Œè¿™åº§ä½äºå±±æµ·å…³è€é¾™å¤´é•¿åŸå°½å¤´çš„åŸæ¥¼ï¼Œæ˜æœ«ç­‘èµ·ï¼Œæ˜¯ä¸‡é‡Œé•¿åŸä¸œç«¯çš„ç¬¬ä¸€ä¸ªåŸæ¥¼ï¼ŒåŒæ—¶ä¹Ÿæ˜¯è€é¾™å¤´æ™¯åŒºçš„ç’€ç’¨æ˜ç ã€‚è¿™åº§æ¥¼è‚©ä¸Šæ‹…è´Ÿç€å†å²çš„åšé‡ï¼Œæ‚¬æŒ‚åœ¨æ¥¼ä¸Šçš„"é›„è¥Ÿä¸‡é‡Œ"åŒ¾é¢ï¼Œæ­£æ˜¯æ˜ä»£å¤§å­¦å£«å­™æ‰¿å®—çš„äº²ç¬”é¢˜å­—ã€‚æ—¶å…‰èè‹’ï¼Œå†å²çš„é•¿æ²³ä¸­ï¼Œæ¾„æµ·æ¥¼å†ç»é£é›¨ï¼Œä½†å§‹ç»ˆå±¹ç«‹ä¸å€’ã€‚ç°å­˜çš„æ˜¯ç»è¿‡1985å¹´è‡³1987å¹´çš„ä¿®å¤åçš„å»ºç­‘ï¼ŒäºŒå±‚çš„å¤§æœ¨ç»“æ„ï¼Œé‡æªä¹è„Šæ­‡å±±ç“¦é¡¶ï¼Œé«˜14.5ç±³ï¼Œé¢å®½15.68ç±³ï¼Œè¿›æ·±12ç±³ã€‚è¿™åº§æ¥¼åˆ†ä¸¤å±‚ï¼Œç –æœ¨ç»“æ„ï¼Œæ­‡å±±é‡æªç“¦é¡¶ã€‚ç™»ä¸Šæ¾„æµ·æ¥¼ï¼Œä½ ä¼šè¢«ä¸€å—åŒ¾é¢æ‰€å¸å¼•â€”â€”"é›„è¥Ÿä¸‡é‡Œ"ã€‚è¿™æ˜¯æ˜ä»£å¤§å­¦å£«å­™æ‰¿å®—æ‰€é¢˜ï¼Œç¬”åŠ›åƒé’§ï¼Œå¯“æ„æ·±è¿œã€‚è€Œå¦ä¸€å—åŒ¾é¢"å…ƒæ°”æ··èŒ«"ï¼Œä»¥åŠä¸€å‰¯æ¥¹è”"æ—¥å…‰ç”¨åä»å¤ªå§‹ï¼Œå¤©å®¹æµ·è‰²æœ¬æ¾„æ¸…"ï¼Œéƒ½æ˜¯æ¸…ä»£ä¹¾éš†çš‡å¸å¾¡ç¬”äº²é¢˜ï¼Œå­—ä½“è‹åŠ²æœ‰åŠ›ï¼ŒçŠ¹å¦‚é¾™é£å‡¤èˆã€‚</div>
      </div>

      <div class="spot-card">
        <img src="https://raw.githubusercontent.com/delete-yuan/delete-yuan.github.io/main/b.png" alt="å®æµ·åŸ" />
        <div class="spot-name">å®æµ·åŸ</div>
        <div class="spot-desc">å®æµ·åŸï¼Œä½äºç§¦çš‡å²›å¸‚å±±æµ·å…³åŒºé¾™æµ·å¤§é“1å·è€é¾™å¤´æ™¯åŒºå†…æ¾„æµ·æ¥¼åã€‚å®æµ·åŸåœ¨å…¥æµ·çŸ³åŸåŒ—ï¼Œè¿™åº§åŸæ± æ˜¯å±±æµ·å…³è€é¾™å¤´å†›äº‹é˜²å¾¡ä½“ç³»çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œè§è¯äº†ä¸­å›½å¤ä»£çš„æˆ˜äº‰å†å²ï¼Œæ˜¯æˆ‘å›½ç°å­˜è¾ƒå®Œæ•´ã€è§„æ¨¡è¾ƒå®å¤§çš„æ˜ä»£å†›è¥ã€‚æ¢¯å½¢æ€»é•¿çº¦899ç±³ã€‚å…¶å³å»ºæœ‰"æŠŠæ€»ç½²"ï¼Œå…¶å·¦å»ºæœ‰"é¾™æ­¦è¥"æˆ¿ã€‚è¿˜æœ‰ç¥­ç¥€å…ˆé©±å°†é¢†çš„æ˜¾åŠŸç¥ ï¼Œå’Œè¯·ç¥ä»™æŠ¤ä½‘çš„é¾™ç‹åº™å’Œå…³å¸åº™ã€‚</div>
      </div>

      <div class="spot-card">
        <img src="https://raw.githubusercontent.com/delete-yuan/delete-yuan.github.io/main/ting.jpg" alt="ä¹¾éš†å¾¡ç¢‘äº­" />
        <div class="spot-name">ä¹¾éš†å¾¡ç¢‘äº­</div>
        <div class="spot-desc">ä¹¾éš†å¾¡ç¢‘äº­ï¼Œä¹ƒæ¸…ä»£ä¹¾éš†åä¹å¹´å±±æµ·å…³çŸ¥å¿é’Ÿå’Œæ¢…æ‰€å»ºï¼Œä¸ºé‡æªå››è§’äº­ï¼Œæ°”éŸµç‹¬ç‰¹ã€‚æ›¾å››æ¬¡è…ä¸´è€é¾™å¤´çš„ä¹¾éš†å¸ï¼Œç™»æ¥¼èµ‹è¯—ï¼Œå¾¡ç¢‘æ‰€åˆ»çš„ä¹¾éš†é¢˜è¯—æ˜¯ä¹¾éš†å…«å¹´åˆ°åä¹å¹´æ‰€é¢˜çš„ä¸‰é¦–é•¿è¯—ï¼Œå¦‚æ˜ç èˆ¬é•¶åµŒäºäº­ä¸­ï¼Œç† ç† ç”Ÿè¾‰ã€‚</div>
      </div>
  
      <div class="spot-card">
        <img src="https://raw.githubusercontent.com/delete-yuan/delete-yuan.github.io/main/a.png" alt="å®ˆå¤‡ç½²" />
        <div class="spot-name">å®ˆå¤‡ç½²</div>
        <div class="spot-desc">è€é¾™å¤´å®ˆå¤‡ç½²å»ºäºæ˜æœï¼Œæ˜¯æ˜ä»£ä¸‡é‡Œé•¿åŸ"é¦–å…³"å±±æµ·å…³çš„å†›äº‹æŒ‡æŒ¥æ ¸å¿ƒä¹‹ä¸€ã€‚å®ˆå¤‡ç½²å†…éƒ¨å¸ƒå±€ä¸¥è°¨ï¼ŒåŒ…æ‹¬å†›è¥ã€åŠå…¬å…ã€å…µå™¨åº“åŠæ°‘é˜²è®¾æ–½ã€‚å®ˆå¤‡ç½²çš„å»ºç«‹åæ˜ äº†æ˜ä»£æ²¿æµ·é˜²å¾¡ä½“ç³»çš„å®Œå–„ï¼Œä»¥åŠå½“æ—¶åŒ—æ–¹å…³éš˜é˜²åŠ¡çš„é‡è¦æ€§ã€‚</div>
      </div>

      <div class="spot-card">
        <img src="https://raw.githubusercontent.com/delete-yuan/delete-yuan.github.io/main/646b613a9e88b1205194d86b39dac11c.jpg" alt="å…«å¦é˜µ" />
        <div class="spot-name">å…«å¦é˜µ</div>
        <div class="spot-desc">å…«å¦é˜µä½äºå±±æµ·å…³è€é¾™å¤´æ™¯åŒºçš„ä¸­å¿ƒåŒºåŸŸï¼Œæ˜¯ä¾æ®ã€Šå‘¨æ˜“ã€‹å…«å¦åŸç†å¸ƒè®¾çš„è¿·é˜µæ™¯ç‚¹ã€‚é˜µå†…é“è·¯ç¯ç»•äº¤ç»‡ï¼Œæ­¥ç§»æ™¯å¼‚ï¼Œä½“éªŒ"å…¥é˜µå¦‚è¿·ã€å‡ºé˜µå¦‚æ‚Ÿ"çš„è¶£å‘³ã€‚é€‚åˆæ¸¸å®¢åœ¨æ¸¸è§ˆä¸­ä½“éªŒä¸­å›½å¤ä»£å…µå®¶å¸ƒé˜µæ™ºæ…§ã€‚</div>
      </div>

    </div>
  </section>

</div>

<script>
// ================= ç™¾åº¦åœ°å›¾åˆå§‹åŒ– =================
// åˆ›å»ºåœ°å›¾å®ä¾‹
var map = new BMap.Map("map");

// è€é¾™å¤´æ™¯åŒºåæ ‡ï¼ˆå¯ä»¥æ ¹æ®éœ€è¦è°ƒæ•´ï¼‰
var point = new BMap.Point(119.805, 39.978);
map.centerAndZoom(point, 15);

// æ·»åŠ åŸºæœ¬æ§ä»¶
map.addControl(new BMap.NavigationControl());
map.addControl(new BMap.ScaleControl());

// ================= å®æ—¶å®šä½åŠŸèƒ½ =================
// å­˜å‚¨å½“å‰ç”¨æˆ·æ ‡è®°
var userMarker = null;
var watchPositionId = null;

// æ›´æ–°ç”¨æˆ·ä½ç½®çŠ¶æ€æ˜¾ç¤º
function updateLocationStatus(text, isError = false) {
  let statusEl = document.getElementById('location-status');
  if (!statusEl) {
    statusEl = document.createElement('div');
    statusEl.id = 'location-status';
    statusEl.className = 'location-status';
    document.getElementById('map').appendChild(statusEl);
  }
  
  statusEl.textContent = text;
  statusEl.style.color = isError ? '#e74c3c' : '#27ae60';
  statusEl.style.backgroundColor = isError ? 'rgba(231, 76, 60, 0.1)' : 'rgba(39, 174, 96, 0.1)';
}

// æ›´æ–°ç”¨æˆ·ä½ç½®æ ‡è®°
function updateUserPosition(lng, lat, accuracy) {
  // å°†GPSåæ ‡è½¬æ¢ä¸ºç™¾åº¦åæ ‡ï¼ˆç™¾åº¦åœ°å›¾APIä¼šè‡ªåŠ¨å¤„ç†ï¼Œä½†ä¸ºäº†ç²¾ç¡®å¯ä»¥è°ƒç”¨è½¬æ¢æ¥å£ï¼‰
  var point = new BMap.Point(lng, lat);
  
  // ç§»é™¤æ—§çš„æ ‡è®°
  if (userMarker) {
    map.removeOverlay(userMarker);
  }
  
  // åˆ›å»ºæ–°æ ‡è®° - ä½¿ç”¨è‡ªå®šä¹‰å›¾æ ‡
  userMarker = new BMap.Marker(point);
  
  // è®¾ç½®æ ‡è®°å›¾æ ‡ï¼ˆä½¿ç”¨ç™¾åº¦é»˜è®¤è“è‰²å›¾æ ‡ï¼‰
  var icon = new BMap.Icon(
    'http://api.map.baidu.com/img/markers.png',
    new BMap.Size(23, 25),
    {
      offset: new BMap.Size(10, 25),
      imageOffset: new BMap.Size(0, 0) // ä½¿ç”¨è“è‰²å›¾æ ‡
    }
  );
  userMarker.setIcon(icon);
  
  // æ·»åŠ æ ‡è®°åˆ°åœ°å›¾
  map.addOverlay(userMarker);
  
  // åˆ›å»ºä¿¡æ¯çª—å£
  var infoWindow = new BMap.InfoWindow(
    `<div style="font-size:14px;padding:5px;">
      <strong>æ‚¨çš„ä½ç½®</strong><br>
      ç»åº¦: ${lng.toFixed(6)}<br>
      çº¬åº¦: ${lat.toFixed(6)}<br>
      ${accuracy ? `ç²¾åº¦: Â±${accuracy.toFixed(1)}ç±³` : ''}
    </div>`
  );
  
  // ç‚¹å‡»æ ‡è®°æ˜¾ç¤ºä¿¡æ¯çª—å£
  userMarker.addEventListener("click", function() {
    this.openInfoWindow(infoWindow);
  });
  
  // æ›´æ–°çŠ¶æ€æ˜¾ç¤º
  updateLocationStatus(`å®šä½æˆåŠŸ - ç²¾åº¦: Â±${accuracy ? accuracy.toFixed(1) : 'æœªçŸ¥'}ç±³`);
  
  // å°†åœ°å›¾ä¸­å¿ƒç§»åŠ¨åˆ°å½“å‰ä½ç½®ï¼ˆç¬¬ä¸€æ¬¡å®šä½æ—¶ï¼‰
  if (!window.initialPositionSet) {
    map.panTo(point);
    map.setZoom(17); // æ”¾å¤§åœ°å›¾
    window.initialPositionSet = true;
  }
  
  console.log("ä½ç½®æ›´æ–°ï¼šçº¬åº¦=" + lat + ", ç»åº¦=" + lng);
}

// å¼€å§‹æŒç»­å®šä½
function startContinuousLocation() {
  if (!navigator.geolocation) {
    updateLocationStatus("æµè§ˆå™¨ä¸æ”¯æŒåœ°ç†å®šä½åŠŸèƒ½", true);
    alert("æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒåœ°ç†å®šä½åŠŸèƒ½");
    return;
  }
  
  updateLocationStatus("æ­£åœ¨è·å–ä½ç½®...");
  
  // é¦–æ¬¡è·å–ä½ç½®
  navigator.geolocation.getCurrentPosition(
    function(position) {
      var lat = position.coords.latitude;
      var lng = position.coords.longitude;
      var accuracy = position.coords.accuracy;
      
      // å°†GPSåæ ‡è½¬æ¢ä¸ºç™¾åº¦åæ ‡
      var convertor = new BMap.Convertor();
      var pointArr = [new BMap.Point(lng, lat)];
      
      convertor.translate(pointArr, 1, 5, function(data) {
        if (data.status === 0) {
          var point = data.points[0];
          updateUserPosition(point.lng, point.lat, accuracy);
        } else {
          // è½¬æ¢å¤±è´¥ï¼Œä½¿ç”¨åŸå§‹åæ ‡
          updateUserPosition(lng, lat, accuracy);
        }
      });
    },
    function(error) {
      var errorMessage = "è·å–ä½ç½®å¤±è´¥: ";
      switch(error.code) {
        case error.PERMISSION_DENIED:
          errorMessage += "ç”¨æˆ·æ‹’ç»äº†å®šä½è¯·æ±‚";
          break;
        case error.POSITION_UNAVAILABLE:
          errorMessage += "ä½ç½®ä¿¡æ¯ä¸å¯ç”¨";
          break;
        case error.TIMEOUT:
          errorMessage += "è¯·æ±‚è¶…æ—¶";
          break;
        default:
          errorMessage += "æœªçŸ¥é”™è¯¯";
      }
      updateLocationStatus(errorMessage, true);
      console.warn(errorMessage, error);
    },
    {
      enableHighAccuracy: true,
      timeout: 10000,
      maximumAge: 0
    }
  );
  
  // æŒç»­ç›‘å¬ä½ç½®å˜åŒ–ï¼ˆæ¯10ç§’æ›´æ–°ä¸€æ¬¡ï¼‰
  watchPositionId = navigator.geolocation.watchPosition(
    function(position) {
      var lat = position.coords.latitude;
      var lng = position.coords.longitude;
      var accuracy = position.coords.accuracy;
      
      // å°†GPSåæ ‡è½¬æ¢ä¸ºç™¾åº¦åæ ‡
      var convertor = new BMap.Convertor();
      var pointArr = [new BMap.Point(lng, lat)];
      
      convertor.translate(pointArr, 1, 5, function(data) {
        if (data.status === 0) {
          var point = data.points[0];
          updateUserPosition(point.lng, point.lat, accuracy);
        } else {
          // è½¬æ¢å¤±è´¥ï¼Œä½¿ç”¨åŸå§‹åæ ‡
          updateUserPosition(lng, lat, accuracy);
        }
      });
    },
    function(error) {
      console.warn("æŒç»­å®šä½å¤±è´¥:", error);
    },
    {
      enableHighAccuracy: true,
      maximumAge: 10000,  // 10ç§’å†…ä¸é‡å¤ä½¿ç”¨ç¼“å­˜
      timeout: 10000
    }
  );
}

// æ‰‹åŠ¨é‡æ–°å®šä½å‡½æ•°
function reLocate() {
  updateLocationStatus("é‡æ–°å®šä½ä¸­...");
  
  if (watchPositionId !== null) {
    navigator.geolocation.clearWatch(watchPositionId);
  }
  
  if (userMarker) {
    map.removeOverlay(userMarker);
    userMarker = null;
  }
  
  window.initialPositionSet = false;
  
  // å»¶è¿Ÿä¸€ç‚¹å¼€å§‹å®šä½ï¼Œç¡®ä¿çŠ¶æ€æ˜¾ç¤ºæ›´æ–°
  setTimeout(startContinuousLocation, 500);
}

// æ·»åŠ è‡ªå®šä¹‰å®šä½æŒ‰é’®
function addCustomLocationButton() {
  var locationBtn = document.createElement('button');
  locationBtn.className = 'custom-location-btn';
  locationBtn.innerHTML = 'ğŸ“';
  locationBtn.title = 'é‡æ–°å®šä½åˆ°æˆ‘çš„ä½ç½®';
  locationBtn.onclick = reLocate;
  
  document.getElementById('map').appendChild(locationBtn);
}

// é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
window.addEventListener('load', function() {
  // æ·»åŠ è‡ªå®šä¹‰å®šä½æŒ‰é’®
  addCustomLocationButton();
  
  // å»¶è¿Ÿä¸€ç‚¹å¼€å§‹å®šä½ï¼Œç¡®ä¿åœ°å›¾å·²åŠ è½½
  setTimeout(startContinuousLocation, 1000);
});

// é¡µé¢å¸è½½æ—¶æ¸…ç†
window.addEventListener('beforeunload', function() {
  if (watchPositionId !== null) {
    navigator.geolocation.clearWatch(watchPositionId);
  }
});
</script>

<script>
// ä¸‹æ‹‰èœå•å±•å¼€/éšè—
const dropdowns = document.querySelectorAll('.dropdown');

dropdowns.forEach(dropdown => {
  const btn = dropdown.querySelector('.dropdown-btn');
  const menu = dropdown.querySelector('.dropdown-content');
  
  if (btn && menu) {
    btn.addEventListener('click', (e) => {
      e.preventDefault();
      // å…³é—­å…¶ä»–ä¸‹æ‹‰èœå•
      document.querySelectorAll('.dropdown-content').forEach(otherMenu => {
        if (otherMenu !== menu) {
          otherMenu.style.display = 'none';
        }
      });
      // åˆ‡æ¢å½“å‰èœå•
      menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
    });
  }
});

// ç‚¹å‡»å…¶ä»–åœ°æ–¹å…³é—­ä¸‹æ‹‰èœå•
document.addEventListener('click', (e) => {
  if (!e.target.closest('.dropdown')) {
    document.querySelectorAll('.dropdown-content').forEach(menu => {
      menu.style.display = 'none';
    });
  }
});
</script>

</body>
</html>

